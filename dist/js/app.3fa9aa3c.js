(function(t){function e(e){for(var a,s,o=e[0],u=e[1],l=e[2],d=0,h=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&h.push(i[s][0]),i[s]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a]);c&&c(e);while(h.length)h.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,o=1;o<n.length;o++){var u=n[o];0!==i[u]&&(a=!1)}a&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},i={app:0},r=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var c=u;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},2946:function(t,e,n){},"4e1e":function(t,e,n){"use strict";n("df8e")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23");function i(t,e,n,i,r,s){var o=Object(a["s"])("router-view");return Object(a["m"])(),Object(a["c"])(o,{onLoad:s.onLoadFile},null,8,["onLoad"])}n("a15b"),n("d81d"),n("ac1f"),n("466d"),n("5319"),n("1276");var r=n("d4ec"),s=n("bee2"),o=function(){function t(e){Object(r["a"])(this,t),this.body=this.stripHead(e),this.analyze()}return Object(s["a"])(t,[{key:"analyze",value:function(){this.parsedNames=this.parseNames(),this.parsedWords=this.parseWords(),this.nameRanking=this.getNamesRanking(this.parsedNames),this.wordRanking=this.getWordsRanking(this.parsedWords)}},{key:"data",value:function(){return{date:this.getDates(),count:this.parsedNames.length,names:this.nameRanking.map((function(t){return t[0]})),words:this.wordRanking.map((function(t){return t[0]})),nameRanking:this.nameRanking,wordRanking:this.wordRanking}}},{key:"stripHead",value:function(t){return t.replace(/[a-z0-9,]+\n/i,"")}},{key:"getDates",value:function(){var t=this.body.match(/[0-9]{4}-[0-9]{2}-[0-9]{2}/g);return[t[0],t[t.length-1]]}},{key:"parseNames",value:function(){return this.body.match(/,"[^"]+",/g).map((function(t){return t.replace(/(^,")|(",$)/g,"")}))}},{key:"getNamesRanking",value:function(t){for(var e={},n=t.length,a=0;a<n;a++)e[t[a]]?e[t[a]]++:e[t[a]]=1;return this.getRankingArrayFromCounts(e)}},{key:"parseWords",value:function(){return this.body.match(/"[^"]+"\n/g).join(" ").replace(/\s+/g," ").replace(/"/g,"").split(" ")}},{key:"getWordsRanking",value:function(t){for(var e={},n=t.length,a=0;a<n;a++)e[t[a]]?e[t[a]]++:e[t[a]]=1;return this.getRankingArrayFromCounts(e)}},{key:"getRankingArrayFromCounts",value:function(t){var e=[];for(var n in t)e.push([n,t[n]]);var a=e.sort((function(t,e){return t[1]>e[1]?-1:t[1]<e[1]?1:0}));return a}}]),t}(),u={debug:!0,state:{analysisResults:{}},setAnalysisResults:function(t){this.state.analysisResults=t}},l={name:"App",methods:{onLoadFile:function(t){var e=new o(t);u.setAnalysisResults(e.data()),this.$router.push({path:"result"})}}};l.render=i;var c=l,d=n("6c02"),h=Object(a["A"])("data-v-57390215");Object(a["p"])("data-v-57390215");var b={class:"container"},v=Object(a["d"])("h1",null,"카카오톡 대화 분석기",-1),f={class:"input-wrap"};Object(a["n"])();var p=h((function(t,e,n,i,r,s){return Object(a["m"])(),Object(a["c"])("div",b,[v,Object(a["d"])("div",f,[Object(a["d"])("input",{type:"button",id:"uploadButtonView",value:t.isUploading?"업로드중...":"파일첨부",class:"input-button"},null,8,["value"]),Object(a["d"])("input",{type:"file",ref:"upload",class:"input-hidden",onChange:e[1]||(e[1]=function(){return s.onChange.apply(s,arguments)})},null,544)])])})),g={name:"Uploader",data:function(){return{isUploading:!1}},methods:{onChange:function(t){var e=this,n=t.target.files[0],a=new FileReader;"text/plain"===n.type||"text/csv"===n.type?(this.isUploading=!0,a.onload=function(t){e.isUploading=!1,e.$emit("load",t.target.result)},a.readAsText(n),this.$refs.upload.value="",t.preventDefault()):alert(n.type+" - 잘못된 파일입니다.")}}};n("5852");g.render=p,g.__scopeId="data-v-57390215";var O=g,j=Object(a["A"])("data-v-ccbc7abc");Object(a["p"])("data-v-ccbc7abc");var m={class:"container"},y=Object(a["d"])("h1",null,"분석 결과",-1),R={class:"date"},k={class:"tabs"},w={class:"content"},C={align:"center"},x=Object(a["d"])("colgroup",null,[Object(a["d"])("col",{width:"100"}),Object(a["d"])("col",{width:"150"})],-1),_=Object(a["d"])("th",null,"총 대화 수",-1),A=Object(a["d"])("th",null,"대화자 수",-1),N=Object(a["d"])("th",null,"분석 단어 수",-1),W={class:"content"},$={ref:"nameChart"},D={class:"content"},P={ref:"wordChart"};Object(a["n"])();var z=j((function(t,e,n,i,r,s){return Object(a["m"])(),Object(a["c"])("div",m,[y,Object(a["d"])("div",R,Object(a["u"])(s.startDate)+" ~ "+Object(a["u"])(s.endDate),1),Object(a["d"])("div",k,[Object(a["d"])("a",{href:"#",class:["tab",{selected:"1"===t.tab}],onClick:e[1]||(e[1]=Object(a["z"])((function(e){return t.tab="1"}),["prevent"]))},"개요",2),Object(a["d"])("a",{href:"#",class:["tab",{selected:"2"===t.tab}],onClick:e[2]||(e[2]=Object(a["z"])((function(e){return t.tab="2"}),["prevent"]))},"사용자별",2),Object(a["d"])("a",{href:"#",class:["tab",{selected:"3"===t.tab}],onClick:e[3]||(e[3]=Object(a["z"])((function(e){return t.tab="3"}),["prevent"]))},"키워드별",2)]),Object(a["y"])(Object(a["d"])("div",w,[Object(a["d"])("table",C,[x,Object(a["d"])("tr",null,[_,Object(a["d"])("td",null,Object(a["u"])(s.comma(s.count))+"건",1)]),Object(a["d"])("tr",null,[A,Object(a["d"])("td",null,Object(a["u"])(s.comma(s.nameCount))+"명",1)]),Object(a["d"])("tr",null,[N,Object(a["d"])("td",null,Object(a["u"])(s.comma(s.wordCount))+"개",1)])])],512),[[a["w"],"1"===t.tab]]),Object(a["y"])(Object(a["d"])("div",W,[Object(a["d"])("div",$,null,512)],512),[[a["w"],"2"===t.tab]]),Object(a["y"])(Object(a["d"])("div",D,[Object(a["d"])("div",P,null,512)],512),[[a["w"],"3"===t.tab]])])})),F=(n("fb6a"),n("c13a"),n("25f5")),S={name:"Result",data:function(){return{tab:"1",analysisResults:u.state.analysisResults,nameChart:null,wordChart:null}},computed:{startDate:function(){var t,e;return(null===this||void 0===this||null===(t=this.analysisResults)||void 0===t?void 0:t.date)?null===this||void 0===this||null===(e=this.analysisResults)||void 0===e?void 0:e.date[0]:""},endDate:function(){var t,e;return(null===this||void 0===this||null===(t=this.analysisResults)||void 0===t?void 0:t.date)?null===this||void 0===this||null===(e=this.analysisResults)||void 0===e?void 0:e.date[1]:""},count:function(){var t;return(null===this||void 0===this||null===(t=this.analysisResults)||void 0===t?void 0:t.count)||0},nameCount:function(){var t,e;return(null===this||void 0===this||null===(t=this.analysisResults)||void 0===t||null===(e=t.names)||void 0===e?void 0:e.length)||0},wordCount:function(){var t,e;return(null===this||void 0===this||null===(t=this.analysisResults)||void 0===t||null===(e=t.words)||void 0===e?void 0:e.length)||0},nameRanking:function(){var t;return(null===this||void 0===this||null===(t=this.analysisResults)||void 0===t?void 0:t.nameRanking)||[]},wordRanking:function(){var t;return(null===this||void 0===this||null===(t=this.analysisResults)||void 0===t?void 0:t.wordRanking)||[]}},watch:{tab:function(t){var e=this;"2"===t&&(this.nameChart||this.$nextTick((function(){e.nameChart=e.initNameChart()}))),"3"===t&&(this.wordChart||this.$nextTick((function(){e.wordChart=e.initWordChart()})))}},created:function(){this.analysisResults.date},mounted:function(){},methods:{comma:function(t){return String(t).replace(/\B(?=(\d{3})+(?!\d))/g,",")},initNameChart:function(){return F["a"].generate({data:{columns:this.nameRanking.slice(0,5),type:Object(F["c"])()},bindto:this.$refs.nameChart})},initWordChart:function(){return F["a"].generate({data:{columns:this.wordRanking.slice(0,20),type:Object(F["b"])()},bindto:this.$refs.wordChart})}}};n("4e1e");S.render=z,S.__scopeId="data-v-ccbc7abc";var U=S,T=[{path:"/",name:"Uploader",component:O},{path:"/result",name:"Result",component:U}],L=Object(d["a"])({history:Object(d["b"])(),routes:T}),M=L;console.log(11),Object(a["b"])(c).use(M).mount("#app")},5852:function(t,e,n){"use strict";n("2946")},df8e:function(t,e,n){}});
//# sourceMappingURL=app.3fa9aa3c.js.map